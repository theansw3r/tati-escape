<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PR Final</title>
  <style>
    :root{
      --bg1:#1b0b3a; --bg2:#3a0a5e;
      --card:rgba(255,255,255,.10);
      --border:rgba(255,255,255,.18);
      --text:#ffffff; --muted:rgba(255,255,255,.78);
      --accent:#b86bff; --accent2:#ff5cc8;
      --ok:#52ffa8; --warn:#ffd36a;
      --radius:20px; --shadow:0 18px 60px rgba(0,0,0,.45);
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh; padding:22px; color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:
        radial-gradient(1000px 600px at 20% 10%, rgba(184,107,255,.25), transparent 60%),
        radial-gradient(900px 700px at 80% 20%, rgba(255,92,200,.20), transparent 55%),
        radial-gradient(900px 700px at 40% 90%, rgba(82,255,168,.14), transparent 55%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      display:flex; align-items:center; justify-content:center;
      overflow:hidden;
    }
    .wrap{width:min(980px,100%); display:grid; gap:14px;}
    .topbar{
      display:flex; justify-content:space-between; align-items:flex-end; gap:12px;
      padding:18px 20px;
      background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      backdrop-filter: blur(12px);
    }
    h1{margin:0; font-size:22px}
    .sub{margin-top:6px; color:var(--muted); font-size:13px}
    .meta{color:var(--muted); text-align:right; font-size:12px}
    .panel{
      background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      backdrop-filter: blur(12px);
      padding:18px;
    }
    .lock label{display:block; margin-top:12px; color:var(--muted); font-size:13px}
    .lock input{
      width:100%; margin-top:8px; padding:14px;
      border-radius:16px; border:1px solid var(--border);
      background:rgba(0,0,0,.14); color:var(--text); outline:none; font-size:15px;
    }
    .lock input:focus{border-color: rgba(184,107,255,.7); box-shadow: 0 0 0 4px rgba(184,107,255,.18)}
    .row{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    button{
      border:none; border-radius:16px; padding:12px 14px; font-weight:900; cursor:pointer;
      transition: filter .12s ease, transform .12s ease;
    }
    button:active{transform:scale(.98)}
    .primary{background:linear-gradient(180deg, rgba(184,107,255,.98), rgba(255,92,200,.85)); color:#190424}
    .ghost{
      background:rgba(255,255,255,.10);
      border:1px solid var(--border);
      color:var(--text);
      text-decoration:none;
      display:inline-flex; align-items:center; justify-content:center;
      padding:12px 14px; border-radius:16px;
    }
    .err{
      display:none; margin-top:12px; padding:14px;
      border-radius:16px; border:1px solid rgba(255,90,120,.28);
      background:rgba(255,90,120,.10); color:#ffd7df; font-weight:650
    }
    .pr{display:none}
    .grid{display:grid; grid-template-columns: 1fr 1fr; gap:14px}
    @media (max-width: 900px){.grid{grid-template-columns:1fr}}
    .card{
      padding:16px; border-radius:18px;
      background:rgba(0,0,0,.14);
      border:1px solid var(--border);
    }
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 12px; border-radius:999px;
      border:1px solid var(--border); background:rgba(255,255,255,.08);
      font-size:12px; color:var(--text);
    }
    .pill.ok{border-color:rgba(82,255,168,.28); background:rgba(82,255,168,.10); color:#dcffe9}
    .big{font-size: clamp(22px, 3vw, 34px); margin:0; line-height:1.15}
    .tagline{color:var(--muted); margin-top:10px}
    ul{margin:10px 0 0 18px}
    li{margin:8px 0}
    .merge{
      width:100%;
      background:linear-gradient(180deg, rgba(255,92,200,.95), rgba(184,107,255,.85));
      color:#190424;
      box-shadow: 0 10px 30px rgba(184,107,255,.20);
    }
    .merge:hover{filter:brightness(1.06)}
    .result{
      display:none; margin-top:12px; padding:14px; border-radius:16px;
      border:1px solid rgba(82,255,168,.28); background:rgba(82,255,168,.10);
      color:#dcffe9; font-weight:650;
    }
    .result b{color:var(--ok)}
    .footer{margin-top:12px; color:rgba(255,255,255,.65); font-size:12px}
    #confetti{position:fixed; inset:0; width:100%; height:100%; pointer-events:none; z-index:1000}
  </style>
</head>
<body>
<canvas id="confetti"></canvas>

<div class="wrap">
  <header class="topbar">
    <div>
      <h1>Pull Request ‚Äî Girlfriend Mode üíú</h1>
      <div class="sub">repo: tati-escape ¬∑ lucas/heart-branch ‚Üí main</div>
    </div>
    <div class="meta">Developer: Lucas<br>Reviewer: Tati</div>
  </header>

  <!-- LOCK -->
  <section class="panel lock" id="lock">
    <div class="card">
      <div class="pill">üîí Acceso al PR</div>
      <h2 class="big" style="margin-top:10px;">Ingresa la clave final</h2>
      <div class="tagline">Escribe la respuesta ya resuelta para abrir el PR.</div>

      <label for="key">Clave</label>
      <input id="key" autocomplete="off" placeholder="Escribe aqu√≠‚Ä¶" />

      <div class="row">
        <button class="primary" id="open">Open PR</button>
        <a class="ghost" href="./pista3.html">‚Üê Volver</a>
      </div>

      <div class="err" id="err">Esa no es üòÖ Intenta otra vez.</div>
      <div class="footer">¬© Lucas</div>
    </div>
  </section>

  <!-- PR -->
  <section class="panel pr" id="pr">
    <div class="grid">
      <div class="card">
        <div class="pill">‚ú® PR Details</div>
        <div style="margin-top:12px;font-weight:900;font-size:16px;">feat: enable girlfriend_mode()</div>

        <div class="row" style="margin-top:12px;">
          <span class="pill">from: lucas/heart-branch</span>
          <span class="pill">into: main</span>
          <span class="pill ok">‚úÖ checks passed</span>
        </div>

        <div class="tagline" style="margin-top:14px;"><b>Mini changelog (modo wow)</b></div>
        <ul>
          <li><b>Added:</b> tus risas que me arreglan el d√≠a (sin hotfix).</li>
          <li><b>Improved:</b> nuestras salidas + la paz que me das cuando todo est√° intenso.</li>
          <li><b>Fixed:</b> d√≠as pesados ‚Üí con abrazo, cafecito y ‚Äúestoy aqu√≠‚Äù.</li>
        </ul>
      </div>

      <div class="card">
        <div class="pill">üíå Review</div>
        <h2 class="big" style="margin-top:10px;">Tati‚Ä¶ ¬øquieres ser mi novia?</h2>
        <div class="tagline">‚ÄúAcepto tus bugs y celebro tus versiones.‚Äù</div>

        <div class="row" style="margin-top:14px;">
          <button class="merge" id="merge">Merge üíú</button>
        </div>

        <div class="result" id="result">
          üéâ <b>Merged successfully</b> into <b>main</b> ‚úÖ<br>
          Status: girlfriend_mode = <b>true</b><br>
          Plan: <b>ya resolv√≠</b><br><br>
          <b>Next steps:</b>
          <ul style="margin:8px 0 0 18px;">
            <li>üèÄ Me debes un partido de b√°squet</li>
            <li>üßø Me debes una ida al turco</li>
            <li>üì∏ Foto pa‚Äô guardar este release</li>
          </ul>
        </div>

        <div class="footer">¬© Lucas</div>
      </div>
    </div>
  </section>
</div>

<script>
  // Unlock PR
  const lock = document.getElementById('lock');
  const pr = document.getElementById('pr');
  const keyInput = document.getElementById('key');
  const err = document.getElementById('err');

  function openPR(){
    const v = (keyInput.value||'').trim().toLowerCase();
    if(v === 'jupiter'){
      err.style.display='none';
      lock.style.display='none';
      pr.style.display='block';
      window.scrollTo({top:0, behavior:'smooth'});
    } else {
      err.style.display='block';
    }
  }
  document.getElementById('open').addEventListener('click', openPR);
  keyInput.addEventListener('keydown', (e)=>{ if(e.key==='Enter') openPR(); });

  // Merge + confetti
  const mergeBtn = document.getElementById('merge');
  const result = document.getElementById('result');
  mergeBtn.addEventListener('click', ()=>{ result.style.display='block'; burstConfetti(); });

  // Confetti simple
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  let pieces = []; let running = false;

  function resize(){
    canvas.width = window.innerWidth * devicePixelRatio;
    canvas.height = window.innerHeight * devicePixelRatio;
    canvas.style.width = window.innerWidth + 'px';
    canvas.style.height = window.innerHeight + 'px';
    ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
  }
  window.addEventListener('resize', resize); resize();

  function piece(){
    const colors = ['#b86bff','#ff5cc8','#ffffff','#52ffa8','#ffd36a'];
    return {x:Math.random()*window.innerWidth,y:-20-Math.random()*120,vx:(Math.random()-.5)*5,vy:2+Math.random()*5,
      s:6+Math.random()*8,r:Math.random()*Math.PI,vr:(Math.random()-.5)*0.2,c:colors[Math.floor(Math.random()*colors.length)],life:170+Math.random()*90};
  }
  function burstConfetti(){ pieces = Array.from({length:170}, piece); running = true; requestAnimationFrame(tick); }
  function tick(){
    if(!running) return;
    ctx.clearRect(0,0,window.innerWidth, window.innerHeight);
    pieces.forEach(p=>{
      p.x+=p.vx; p.y+=p.vy; p.r+=p.vr; p.vy+=0.03; p.life-=1;
      ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.r); ctx.fillStyle=p.c;
      ctx.fillRect(-p.s/2,-p.s/2,p.s,p.s*0.6); ctx.restore();
    });
    pieces = pieces.filter(p=>p.life>0 && p.y < window.innerHeight+40);
    if(pieces.length===0){ running=false; ctx.clearRect(0,0,window.innerWidth, window.innerHeight); return; }
    requestAnimationFrame(tick);
  }
</script>
</body>
</html>

